# 📋 M:ine API QA 테스트 요청

> **테스트 기간**: 2024년 12월 25일 (수) ~ **12월 31일 (수) 자정까지**  
> **이슈 등록**: [GitHub Issues](https://github.com/Jangjimin9766/Mine_server/issues)

---

## 🎯 테스트 목표

M:ine 서버 API의 안정성과 예외 처리를 검증합니다. **정상 시나리오**와 **비정상 시나리오(버그 유발)** 모두 테스트해주세요.

---

## 🔧 테스트 환경

- **Swagger UI**: `http://localhost:8080/swagger-ui.html`
- **Base URL**: `http://localhost:8080/api`

---

## ✅ 1. 정상 시나리오 테스트

### 1.1 인증 (Authentication)

| # | 시나리오 | 예상 결과 |
|---|----------|-----------|
| A-1 | 회원가입 (정상 데이터) | 200 OK, 사용자 ID 반환 |
| A-2 | 로그인 (올바른 자격증명) | 200 OK, accessToken + refreshToken 반환 |
| A-3 | 토큰 갱신 (유효한 refreshToken) | 200 OK, 새 accessToken 반환 |
| A-4 | 로그아웃 | 200 OK |
| A-5 | 비밀번호 변경 (올바른 현재 비밀번호) | 200 OK |

### 1.2 매거진 (Magazine)

| # | 시나리오 | 예상 결과 |
|---|----------|-----------|
| M-1 | AI 매거진 생성 (topic, user_mood 입력) | 200 OK, magazineId 반환 |
| M-2 | 내 매거진 목록 조회 | 200 OK, 페이지네이션 응답 |
| M-3 | 매거진 상세 조회 (본인 매거진) | 200 OK, 매거진 데이터 |
| M-4 | 매거진 수정 (제목/소개 변경) | 200 OK |
| M-5 | 매거진 삭제 | 204 No Content |
| M-6 | 매거진 공개 설정 | 200 OK, shareToken 반환 |
| M-7 | 공유 링크로 조회 (유효한 토큰) | 200 OK |
| M-8 | 키워드 검색 | 200 OK, 검색 결과 |
| M-9 | 좋아요 토글 | 200 OK, liked: true/false |
| M-10 | 개인화 피드 조회 | 200 OK |

### 1.3 사용자 (User)

| # | 시나리오 | 예상 결과 |
|---|----------|-----------|
| U-1 | 내 프로필 조회 | 200 OK |
| U-2 | 프로필 수정 (닉네임, bio) | 200 OK |
| U-3 | 다른 사용자 팔로우 | 200 OK, isFollowing: true |
| U-4 | 언팔로우 | 200 OK, isFollowing: false |
| U-5 | 팔로워 목록 조회 | 200 OK |
| U-6 | 팔로잉 목록 조회 | 200 OK |

### 1.4 무드보드 (Moodboard)

| # | 시나리오 | 예상 결과 |
|---|----------|-----------|
| B-1 | 무드보드 생성 | 200 OK, imageUrl 반환 |

---

## ❌ 2. 비정상 시나리오 테스트 (버그 유발)

### 2.1 인증 오류

| # | 시나리오 | 테스트 방법 | 예상 결과 |
|---|----------|-------------|-----------|
| E-A1 | 중복 아이디 회원가입 | 이미 존재하는 username으로 가입 시도 | 400 Bad Request |
| E-A2 | 중복 이메일 회원가입 | 이미 존재하는 email로 가입 시도 | 400 Bad Request |
| E-A3 | 잘못된 비밀번호 로그인 | 틀린 비밀번호로 로그인 | 400 Bad Request |
| E-A4 | 존재하지 않는 사용자 로그인 | 없는 username으로 로그인 | 400 Bad Request |
| E-A5 | 만료된 refreshToken | 오래된 토큰으로 갱신 시도 | 400 Bad Request |
| E-A6 | 잘못된 현재 비밀번호로 변경 | 틀린 currentPassword | 400 Bad Request |
| E-A7 | 인증 없이 보호된 API 호출 | Authorization 헤더 없이 호출 | 401/403 |

### 2.2 매거진 권한/유효성 오류

| # | 시나리오 | 테스트 방법 | 예상 결과 |
|---|----------|-------------|-----------|
| E-M1 | 존재하지 않는 매거진 조회 | 없는 magazineId로 조회 | 400/404 |
| E-M2 | 다른 사용자 매거진 수정 시도 | 타인의 매거진 ID로 PATCH | 403 Forbidden |
| E-M3 | 다른 사용자 매거진 삭제 시도 | 타인의 매거진 ID로 DELETE | 403 Forbidden |
| E-M4 | 비공개 매거진 공유링크 접근 | isPublic=false인 매거진의 shareToken 사용 | 403 Forbidden |
| E-M5 | 유효하지 않은 shareToken | 랜덤 문자열로 조회 | 404 |
| E-M6 | 빈 검색어로 검색 | keyword="" 또는 공백만 | 400 Bad Request |
| E-M7 | 수정 시 제목/소개 둘 다 비어있음 | title, introduction 모두 null | 400 Bad Request |

### 2.3 사용자/팔로우 오류

| # | 시나리오 | 테스트 방법 | 예상 결과 |
|---|----------|-------------|-----------|
| E-U1 | 자기 자신 팔로우 | 본인 userId로 팔로우 시도 | 400 Bad Request |
| E-U2 | 이미 팔로우 중인 사용자 재팔로우 | 이미 팔로우 한 사람 다시 팔로우 | 400 Bad Request |
| E-U3 | 팔로우 안 한 사용자 언팔로우 | 팔로우 안 한 사람 언팔로우 | 400 Bad Request |
| E-U4 | 존재하지 않는 사용자 팔로우 | 없는 userId로 팔로우 | 400/404 |
| E-U5 | 중복 이메일로 프로필 수정 | 다른 사용자의 이메일로 변경 | 400 Bad Request |

### 2.4 경계값/특수 케이스

| # | 시나리오 | 테스트 방법 | 예상 결과 |
|---|----------|-------------|-----------|
| E-X1 | 매우 긴 제목 (100자 초과) | 101자 이상의 title로 수정 | 400 Bad Request |
| E-X2 | 매우 긴 소개 (500자 초과) | 501자 이상의 introduction | 400 Bad Request |
| E-X3 | SQL Injection 시도 | 입력값에 `' OR '1'='1` 등 | 정상 처리 (인젝션 무효화) |
| E-X4 | XSS 시도 | `<script>alert('xss')</script>` 입력 | 정상 처리 (저장되더라도 실행 안됨) |
| E-X5 | 동시 좋아요 (동시성) | 같은 매거진에 동시에 여러 번 좋아요 | 정상 처리 (중복 방지) |
| E-X6 | 음수 page/size | page=-1, size=-10 | 정상 처리 or 400 |

---

## 📝 이슈 등록 가이드

### 버그 발견 시 GitHub Issue 등록

**Repository**: [Mine_server Issues](https://github.com/Jangjimin9766/Mine_server/issues)

### Issue 템플릿

```markdown
## 🐛 버그 리포트

### 테스트 케이스 ID
> 예: E-M3

### 환경
- OS: 
- 테스트 도구: Swagger UI / Postman / cURL

### 재현 방법
1. 
2. 
3. 

### 예상 결과
> 

### 실제 결과
> 

### 스크린샷/로그
> (가능하면 첨부)

### 추가 정보
> 
```

### Issue Label
- `bug`: 버그
- `enhancement`: 개선 제안
- `question`: 질문/확인 필요

---

## 📅 일정

| 날짜 | 내용 |
|------|------|
| 12/24 (화) | QA 테스트 시작 |
| 12/29 (일) 자정 | **테스트 마감** |
| 이후 | 이슈 검토 및 수정 |

---

## 💡 팁

1. **Swagger UI**에서 "Try it out" 버튼으로 쉽게 테스트 가능
2. 로그인 후 **Authorization** 헤더에 `Bearer {accessToken}` 설정 필요
3. 정상/비정상 케이스 **모두** 테스트해주세요
4. 예상과 다른 동작이면 **무조건** 이슈 등록!

---

**감사합니다! 🙏**


[장지민] 정상적인 시나리오대로 api 테스트 진행 해주시고 비정상적인 시나리오나 조건으로 api테스트 여러번 진행해서 에러를 잡아주시면 되십니다 다음주 수요일 이후론 그 이슈들을 같이 해결할 겁니다 
[장지민]  아직 카드 연결을 못한 상태라 두 서버를 로컬에 받고 진행하셔야합니다 깃허브 리드미 보시면 환경설정 다 나와있어요 부탁드립니다!
